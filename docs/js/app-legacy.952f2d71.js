(function(){"use strict";var t={8628:function(t,e,n){n(6992),n(8674),n(9601),n(7727);var r=n(144),a=n(9132);r.Z.use(a.Z);var o=new a.Z({}),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-app-bar",{attrs:{color:"deep-purple",dark:"",app:""}},[n("v-app-bar-nav-icon",{on:{click:t.toggleNavBar}}),n("v-toolbar-title",[t._v("CSC3007 Assignment")])],1),n("NavBar",{ref:"navbar"}),n("v-main",[n("router-view")],1),n("v-footer",{attrs:{color:"deep-purple",dark:"",app:""}},[t._v("Author: Ng Cheuk Fung")])],1)},s=[],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-navigation-drawer",{attrs:{absolute:"",temporary:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[n("v-list",{attrs:{nav:"",dense:""}},[n("v-list-item-group",{attrs:{"active-class":"deep-purple--text text--accent-4"},model:{value:t.group,callback:function(e){t.group=e},expression:"group"}},[n("v-list-item",{attrs:{to:"/"}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-home")])],1),n("v-list-item-title",[t._v("Home")])],1),n("v-list-item",{attrs:{to:"/a1"}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-weather-hazy")])],1),n("v-list-item-title",[t._v("A1 - PSI Table")])],1),n("v-list-item",{attrs:{to:"/a2"}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-account-tie-hat")])],1),n("v-list-item-title",[t._v("A2 - Crime Rate")])],1),n("v-list-item",{attrs:{to:"/a3"}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-home-city")])],1),n("v-list-item-title",[t._v("A3 - SG Population 2021")])],1),n("v-list-item",{attrs:{to:"/a4"}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-virus")])],1),n("v-list-item-title",[t._v("A4 - Covid Force Graph")])],1),n("v-list-item",{attrs:{to:"/a5"}},[n("v-list-item-icon",[n("v-icon",[t._v("mdi-weather-hazy")])],1),n("v-list-item-title",[t._v("A5 - Leaflet SG PSI")])],1)],1)],1)],1)},l=[],c={name:"NavBar",methods:{toggleDrawer:function(){this.drawer=!this.drawer}},data:function(){return{drawer:!1,group:null,items:{}}}},_=c,p=n(1001),d=n(3453),f=n.n(d),h=n(6428),m=n(6816),v=n(7620),y=n(3249),x=n(459),g=n(2710),w=n(9194),b=(0,p.Z)(_,u,l,!1,null,null,null),C=b.exports;f()(b,{VIcon:h.Z,VList:m.Z,VListItem:v.Z,VListItemGroup:y.Z,VListItemIcon:x.Z,VListItemTitle:g.V9,VNavigationDrawer:w.Z});var Z={data:function(){return{}},methods:{toggleNavBar:function(){this.$refs.navbar.toggleDrawer()}},components:{NavBar:C}},k=Z,S=n(7524),P=n(8320),I=n(5206),L=n(899),O=n(7877),V=n(7921),M=(0,p.Z)(k,i,s,!1,null,null,null),j=M.exports;f()(M,{VApp:S.Z,VAppBar:P.Z,VAppBarNavIcon:I.Z,VFooter:L.Z,VMain:O.Z,VToolbarTitle:V.qW});var H=n(8345),N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{"fill-height":"",fluid:""}},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("div",{staticClass:"text-center"},[n("h1",[t._v("Homepage of Cheuk Fung's CSC3007 Assignments")])])])],1)},A=[],D=n(247),B=n(2877),T={},E=(0,p.Z)(T,N,A,!1,null,null,null),F=E.exports;f()(E,{VContainer:D.Z,VRow:B.Z});var z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-row",{staticClass:"py-6",attrs:{justify:"center"}},[n("h1",[t._v("Singapore Air Quality Table")])]),n("v-row",{staticClass:"py-6",attrs:{justify:"center"}},[n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.locations,"hide-default-footer":!0}})],1),n("v-row",{attrs:{justify:"center"}},[n("h3",[t._v("Updated as of: "+t._s(this.updateTime))])])],1)},R=[],Y=n(7906),U=n(5200),$=n(6198),G=(n(1539),n(4747),n(9720),n(7327),n(8309),n(9669)),W=n.n(G),q=W(),X={install:function(t){t.prototype.$axios=W()}},K={methods:{fetchUpdateData:function(){var t=(0,$.Z)((0,Y.Z)().mark((function t(){var e=this;return(0,Y.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,q.get("https://api.data.gov.sg/v1/environment/psi").then((function(t){var n=t.data.items[0].readings;Object.entries(n).forEach((function(t){var n=(0,U.Z)(t,2),r=n[0],a=n[1];Object.entries(a).forEach((function(t){var n=(0,U.Z)(t,2),a=n[0],o=n[1];switch(a){case"west":e.locations.filter((function(t){return"West"==t.name}))[0][r]=o;break;case"central":e.locations.filter((function(t){return"Central"==t.name}))[0][r]=o;break;case"north":e.locations.filter((function(t){return"North"==t.name}))[0][r]=o;break;case"south":e.locations.filter((function(t){return"South"==t.name}))[0][r]=o;break;case"east":e.locations.filter((function(t){return"East"==t.name}))[0][r]=o;break;case"national":e.locations.filter((function(t){return"National"==t.name}))[0][r]=o;break;default:break}}))})),e.updateTime=new Date(t.data.items[0].update_timestamp)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},created:function(){var t=this;this.interval=setInterval((function(){return t.fetchUpdateData()}),3e3)},destroyed:function(){clearInterval(this.interval)},data:function(){return{updateTime:null,headers:[{text:"Location",align:"start",sortable:!1,value:"name"},{text:"O3 Sub Index",value:"o3_sub_index"},{text:"O3 8H Max",value:"o3_eight_hour_max"},{text:"PM10 Sub Index",value:"pm10_sub_index"},{text:"PM10 24H Hourly",value:"pm10_twenty_four_hourly"},{text:"PM2.5 Sub Index",value:"pm25_sub_index"},{text:"PM2.5 24H Hourly ",value:"pm25_twenty_four_hourly"},{text:"SO2 Sub Index",value:"so2_sub_index"},{text:"SO2 24H Hourly",value:"so2_twenty_four_hourly"},{text:"CO Sub Index",value:"co_sub_index"},{text:"CO 8H Max",value:"co_eight_hour_max"},{text:"NO2 1H Max",value:"no2_one_hour_max"},{text:"PSI 24H Max",value:"psi_twenty_four_hourly"}],locations:[{name:"National",o3_sub_index:0,o3_eight_hour_max:0,pm10_sub_index:0,pm10_twenty_four_hourly:0,pm25_sub_index:0,pm25_twenty_four_hourly:0,so2_sub_index:0,so2_twenty_four_hourly:0,co_sub_index:0,co_eight_hour_max:0,no2_one_hour_max:0,psi_twenty_four_hourly:0},{name:"North",o3_sub_index:0,o3_eight_hour_max:0,pm10_sub_index:0,pm10_twenty_four_hourly:0,pm25_sub_index:0,pm25_twenty_four_hourly:0,so2_sub_index:0,so2_twenty_four_hourly:0,co_sub_index:0,co_eight_hour_max:0,no2_one_hour_max:0,psi_twenty_four_hourly:0},{name:"South",o3_sub_index:0,o3_eight_hour_max:0,pm10_sub_index:0,pm10_twenty_four_hourly:0,pm25_sub_index:0,pm25_twenty_four_hourly:0,so2_sub_index:0,so2_twenty_four_hourly:0,co_sub_index:0,co_eight_hour_max:0,no2_one_hour_max:0,psi_twenty_four_hourly:0},{name:"East",o3_sub_index:0,o3_eight_hour_max:0,pm10_sub_index:0,pm10_twenty_four_hourly:0,pm25_sub_index:0,pm25_twenty_four_hourly:0,so2_sub_index:0,so2_twenty_four_hourly:0,co_sub_index:0,co_eight_hour_max:0,no2_one_hour_max:0,psi_twenty_four_hourly:0},{name:"West",o3_sub_index:0,o3_eight_hour_max:0,pm10_sub_index:0,pm10_twenty_four_hourly:0,pm25_sub_index:0,pm25_twenty_four_hourly:0,so2_sub_index:0,so2_twenty_four_hourly:0,co_sub_index:0,co_eight_hour_max:0,no2_one_hour_max:0,psi_twenty_four_hourly:0},{name:"Central",o3_sub_index:0,o3_eight_hour_max:0,pm10_sub_index:0,pm10_twenty_four_hourly:0,pm25_sub_index:0,pm25_twenty_four_hourly:0,so2_sub_index:0,so2_twenty_four_hourly:0,co_sub_index:0,co_eight_hour_max:0,no2_one_hour_max:0,psi_twenty_four_hourly:0}]}}},J=K,Q=n(2090),tt=(0,p.Z)(J,z,R,!1,null,null,null),et=tt.exports;f()(tt,{VContainer:D.Z,VDataTable:Q.Z,VRow:B.Z});var nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-row",{staticClass:"py-6",attrs:{justify:"center"}},[n("h1",[t._v("Crime Rate")])]),n("v-row",{staticClass:"py-3",attrs:{justify:"center"},domProps:{innerHTML:t._s(t.chart)}}),n("v-row",{staticClass:"py-3",attrs:{justify:"center"}},[t._v(" Some bars might not be visible due to small values. You may use the dropdown menu below to inspect individual crime categories. ")]),n("v-row",{staticClass:"py-3",attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"3"}},[n("v-select",{attrs:{label:"Choose a category",dense:"",outlined:"",items:t.crimes},on:{change:t.onSelectChange}})],1)],1),n("v-row",{staticClass:"py-3",attrs:{justify:"center"},domProps:{innerHTML:t._s(t.selectChart)}})],1)},rt=[],at=(n(6699),n(2023),n(2222),n(9600),n(5791)),ot={data:function(){return{crimeyear:[],years:[],crimes:[],chart:null,selectChart:null,data:null}},methods:{fetchCrimeData:function(){var t=(0,$.Z)((0,Y.Z)().mark((function t(){var e=this;return(0,Y.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,q.get("https://data.gov.sg/api/action/datastore_search?resource_id=83c21090-bd19-4b54-ab6b-d999c251edcf").then((function(t){var n=t.data.result.records;e.data=n,n.forEach((function(t){e.crimeyear.push({crime:t["level_2"],year:t["year"],value:parseInt(t["value"])}),e.years.includes(t["year"])||e.years.push(t["year"]),e.crimes.includes(t["level_2"])||e.crimes.push(t["level_2"])}))}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}(),onSelectChange:function(t){var e=[],n=[];this.data.forEach((function(r){r["level_2"]==t&&(e.push({crime:r["level_2"],year:r["year"],value:parseInt(r["value"])}),n.push(r["year"]))})),this.selectChart=this.groupedBarChart(e,{x:function(t){return t.crime},y:function(t){return t.value},z:function(t){return t.year},xDomain:at.IRY(e,(function(t){return at.Smz(t,(function(t){return-t.value}))}),(function(t){return t.crime})),yLabel:"Cases",zDomain:n,colors:at.lqd[n.length],width:1400,height:550}).outerHTML},groupedBarChart:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.x,r=void 0===n?function(t,e){return e}:n,a=e.y,o=void 0===a?function(t){return t}:a,i=e.z,s=void 0===i?function(){return 1}:i,u=e.title,l=e.marginTop,c=void 0===l?30:l,_=e.marginRight,p=void 0===_?0:_,d=e.marginBottom,f=void 0===d?30:d,h=e.marginLeft,m=void 0===h?40:h,v=e.width,y=void 0===v?640:v,x=e.height,g=void 0===x?400:x,w=e.xDomain,b=e.xRange,C=void 0===b?[m,y-p]:b,Z=e.xPadding,k=void 0===Z?.1:Z,S=e.yType,P=void 0===S?at.BYU:S,I=e.yDomain,L=e.yRange,O=void 0===L?[g-f,c]:L,V=e.zDomain,M=e.zPadding,j=void 0===M?.05:M,H=e.yFormat,N=e.yLabel,A=e.colors,D=void 0===A?at.K2I:A,B=at.UID(t,r),T=at.UID(t,o),E=at.UID(t,s);void 0===w&&(w=B),void 0===I&&(I=[0,at.Fp7(T)]),void 0===V&&(V=E),w=new at.H0G(w),V=new at.H0G(V);var F=at.w6H(B.length).filter((function(t){return w.has(B[t])&&V.has(E[t])})),z=at.tiA(w,C).paddingInner(k),R=at.tiA(V,[0,z.bandwidth()]).padding(j),Y=P(I,O),U=at.PKp(V,D),$=at.LLu(z).tickSizeOuter(0),G=at.y4O(Y).ticks(g/60,H);if(void 0===u){var W=Y.tickFormat(100,H);u=function(t){return"".concat(B[t],"\n").concat(E[t],"\n").concat(W(T[t]))}}else{var q=at.UID(t,(function(t){return t})),X=u;u=function(e){return X(q[e],e,t)}}var K=at.Ue8("svg").attr("width",y).attr("height",g).attr("viewBox",[0,0,y,g]).attr("style","max-width: 100%; height: auto; height: intrinsic;");K.append("g").attr("transform","translate(".concat(m,",0)")).call(G).call((function(t){return t.select(".domain").remove()})).call((function(t){return t.selectAll(".tick line").clone().attr("x2",y-m-p).attr("stroke-opacity",.1)})).call((function(t){return t.append("text").attr("x",-m).attr("y",10).attr("fill","currentColor").attr("text-anchor","start").text(N)}));var J=K.append("g").selectAll("rect").data(F).join("rect").attr("x",(function(t){return z(B[t])+R(E[t])})).attr("y",(function(t){return Y(T[t])})).attr("width",R.bandwidth()).attr("height",(function(t){return Y(0)-Y(T[t])})).attr("fill",(function(t){return U(E[t])}));return u&&J.append("title").text(u),K.append("g").attr("transform","translate(0,".concat(g-f,")")).call($),Object.assign(K.node(),{scales:{color:U}})}},mounted:function(){var t=this;return(0,$.Z)((0,Y.Z)().mark((function e(){return(0,Y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.fetchCrimeData();case 2:t.chart=t.groupedBarChart(t.crimeyear,{x:function(t){return t.crime},y:function(t){return t.value},z:function(t){return t.year},xDomain:at.IRY(t.crimeyear,(function(t){return at.Smz(t,(function(t){return-t.value}))}),(function(t){return t.crime})),yLabel:"Cases",zDomain:t.years,colors:at.lqd[t.years.length],width:1400,height:550}).outerHTML;case 3:case"end":return e.stop()}}),e)})))()}},it=ot,st=n(2102),ut=n(6784),lt=(0,p.Z)(it,nt,rt,!1,null,null,null),ct=lt.exports;f()(lt,{VCol:st.Z,VContainer:D.Z,VRow:B.Z,VSelect:ut.Z});var _t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-row",{staticClass:"py-3",attrs:{justify:"center"}},[n("h1",[t._v("Singapore 2021 Population")])]),n("v-row",{staticClass:"py",attrs:{justify:"center"}},[n("svg",{attrs:{id:"map"}})]),n("v-row",{attrs:{justify:"center"}},[n("svg",{attrs:{id:"legend",width:"480"}})]),n("div",{staticClass:"tooltip"})],1)},pt=[],dt=n(2032),ft=(n(8783),n(3948),{data:function(){return{}},methods:{plotMap:function(){var t=(0,$.Z)((0,Y.Z)().mark((function t(){var e,n,r,a,o;return(0,Y.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=1e3,n=350,r=20,a="a3/sgmap.json",o="a3/population2021.csv",Promise.all([at.AVB(a),at.gyn(o)]).then((function(t){var a,o=at.mw4().center([103.851959,1.29027]).fitExtent([[r,r],[e-r,n-r]],t[0]),i=(0,dt.Z)(t[0].features);try{for(i.s();!(a=i.n()).done;){var s,u=a.value,l=u.properties["Subzone Name"].toLowerCase(),c=0,_=(0,dt.Z)(t[1]);try{for(_.s();!(s=_.n()).done;){var p=s.value;p.Subzone.toLocaleLowerCase()==l&&"-"!=p.Population&&(c=p.Population)}}catch(w){_.e(w)}finally{_.f()}u.properties["Population"]=c}}catch(w){i.e(w)}finally{i.f()}for(var d=at.l49().projection(o),f=[8e3,16e3,24e3,32e3,4e4,48e3,56e3,64e3],h=[],m=0;m<1;m+=1/(f.length+1))h.push(at.AO_(m));console.log(h);var v=at.ut0().domain(f).range(h),y=at.Ys("#legend"),x=50;y.append("text").text("Population").attr("y",20).style("fill","FFFFFF"),y.selectAll("mydots").data(f).enter().append("rect").attr("x",(function(t,e){return 0+e*x})).attr("y",25).attr("width",x).attr("height",x).style("fill",(function(t){return v(t)})),y.selectAll("mylabels").data(f).enter().append("text").attr("x",(function(t,e){return(e+.75)*x})).attr("y",20+1.5*x).attr("font-size","75%").style("fill",(function(t){return v(t)})).text((function(t){return t})),console.log(y);var g=at.Ys("#map").attr("viewBox","0 0 "+e+" "+n);g.append("g").attr("id","districts").selectAll("path").data(t[0].features).enter().append("path").attr("d",d).style("stroke-opacity",.25).style("stroke","white").attr("fill",(function(t){return 0==t.properties.Population?"FFFFFF":v(t.properties.Population)})).on("mouseover",(function(t,e){at.Ys(t.path[0]).transition().duration(200).style("opacity",1).style("stroke-opacity",1).style("stroke","red"),at.Ys(".tooltip").text(e.properties.Name+":"+e.properties.Population).style("position","absolute").style("background","#fff").style("left",t.pageX+"px").style("top",t.pageY+"px")})).on("mouseout",(function(){at.Ys(event.path[0]).transition().duration(200).style("stroke-opacity",.25).style("stroke","white"),at.Ys(".tooltip").text("")}))}));case 5:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){var t=this;return(0,$.Z)((0,Y.Z)().mark((function e(){return(0,Y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.plotMap();case 2:case"end":return e.stop()}}),e)})))()}}),ht=ft,mt=(0,p.Z)(ht,_t,pt,!1,null,null,null),vt=mt.exports;f()(mt,{VContainer:D.Z,VRow:B.Z});var yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-row",{attrs:{justify:"center"}},[n("h1",[t._v("Covid Force Graph")])]),n("v-row",[n("v-col",{attrs:{cols:"9"}},[n("svg")]),n("v-col",{attrs:{cols:"3"}},[n("v-container",{attrs:{"fill-height":""}},[n("v-card",[n("h2",[t._v("Selected Node")]),n("h3",[t._v("ID: "+t._s(t.selected.id))]),n("h3",[t._v("Gender: "+t._s(t.selected.gender))]),n("h3",[t._v("Age: "+t._s(t.selected.age))]),n("h3",[t._v("Occupation: "+t._s(t.selected.occupation))]),n("h3",[t._v("Organisation: "+t._s(t.selected.organization))]),n("h3",[t._v("Nationality: "+t._s(t.selected.nationality))]),n("h3",[t._v("Date: "+t._s(t.selected.date))]),n("h3",[t._v("Serology: "+t._s(t.selected.serology))]),n("h3",[t._v("Vaccination Status: "+t._s(t.selected.vaccinated))]),n("h3",[t._v("Asymptomatic: "+t._s(t.selected.asymptomatic))])])],1)],1)],1),n("div",{staticClass:"tooltip"})],1)},xt=[],gt={data:function(){return{selected:{id:null,age:null,occupation:null,organisation:null,nationality:null,date:null,serology:null,vaccinated:null,asymptomatic:null}}},methods:{plotMap:function(){var t=(0,$.Z)((0,Y.Z)().mark((function t(){var e,n,r,a,o=this;return(0,Y.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=800,n=400,r="a4/cases-sample.json",a="a4/links-sample.json",Promise.all([at.AVB(r),at.AVB(a)]).then((function(t){t[1].forEach((function(t){t.source=t.infector,t.target=t.infectee}));var r=at.Ys("svg").attr("viewBox","0 0 "+e+" "+n),a=10;r.append("defs").append("marker").attr("id","arrowhead").attr("viewBox","-0 -5 10 10").attr("refX",16).attr("refY",0).attr("orient","auto").attr("markerWidth",13).attr("markerHeight",13).attr("xoverflow","visible").append("svg:path").attr("d","M 0,-5 L 10 ,0 L 0,5").attr("fill","#999").style("stroke","none");var i=r.append("g").attr("id","links").selectAll("path").data(t[1]).enter().append("path").attr("fill","none").attr("stroke","black").attr("marker-end","url(#arrowhead)"),s=r.append("g").attr("id","nodes").selectAll("circle").data(t[0]).enter().append("circle").attr("r",a).style("fill",(function(t){return"female"==t.gender?"pink":"steelblue"})).call(at.ohM().on("start",l).on("drag",c).on("end",_)).on("click",(function(t,e){console.log("clicked"+e.id),o.selected.id=e.id,o.selected.gender=e.gender,o.selected.age=e.age,o.selected.occupation=e.occupation,o.selected.organisation=e.organization,o.selected.nationality=e.nationality,o.selected.date=e.date,o.selected.serology=null==e.serology?"-":e.serology,o.selected.vaccinated=e.vaccinated,o.selected.asymptomatic=null==e.asymptomatic?"-":e.asymptomatic})).on("mouseover",(function(t,e){at.Ys(t.path[0]).transition().duration(200).style("opacity",1).style("stroke-opacity",1).style("stroke","black"),at.Ys(".tooltip").text((function(){return"ID: "+e.id+", Gender: "+e.gender+", Age: "+e.age})).style("position","absolute").style("background","#fff").style("left",t.pageX+"px").style("top",t.pageY+"px")})).on("mouseout",(function(t){at.Ys(t.path[0]).transition().duration(200).style("stroke-opacity",0).style("stroke","black"),at.Ys(".tooltip").text("")})),u=at.A4v().nodes(t[0]).force("x",at.RUJ().strength(.5).x(e/2)).force("y",at.Mrm().strength(.2).y(n/2)).force("link",at.Fsl(t[1]).id((function(t){return t.id}))).force("charge",at.q5i().strength(20)).force("collide",at.Hh().strength(1).radius(30)).on("tick",(function(){s.attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y})),i.attr("d",(function(t){return"M"+t.source.x+","+t.source.y+" "+t.target.x+","+t.target.y}))}));function l(t,e){t.active||u.alphaTarget(.3).restart(),e.fx=e.x,e.fy=e.y}function c(t,e){e.fx=t.x,e.fy=t.y}function _(t,e){t.active||u.alphaTarget(0),e.fx=null,e.fy=null}}));case 4:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){var t=this;return(0,$.Z)((0,Y.Z)().mark((function e(){return(0,Y.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.plotMap();case 2:case"end":return e.stop()}}),e)})))()}},wt=gt,bt=n(3237),Ct=(0,p.Z)(wt,yt,xt,!1,null,null,null),Zt=Ct.exports;f()(Ct,{VCard:bt.Z,VCol:st.Z,VContainer:D.Z,VRow:B.Z});var kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-row",{attrs:{justify:"center"}},[n("h1",[t._v("Leaflet SG Live PSI")])]),n("v-row",{attrs:{justify:"center"}},[t._v(" Updated as of: "+t._s(t.updateTime))]),n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"8"}},[n("l-map",{staticStyle:{height:"550px"},attrs:{"max-bounds":t.maxBounds,zoom:t.zoom,center:t.center}},[n("l-tile-layer",{attrs:{detectRetina:t.detectRetina,url:t.url,attribution:t.attribution}}),t._l(t.psiCircles,(function(e){return n("l-marker",{key:e.location,attrs:{"lat-lng":e.center}},[n("l-icon",{attrs:{"class-name":e.class}},[n("div",{staticClass:"headline"},[t._v(" "+t._s(e.value)+" ")])])],1)}))],2)],1)],1)],1)},St=[],Pt=n(5352),It=n(2727),Lt=n(8380),Ot=n(8592),Vt=n(5243);delete Vt.Icon.Default.prototype._getIconUrl,Vt.Icon.Default.mergeOptions({iconRetinaUrl:n(6431),iconUrl:n(6266),shadowUrl:n(8858)});var Mt={components:{LMap:Pt.Z,LTileLayer:It.Z,LMarker:Lt.Z,LIcon:Ot.Z},methods:{getPsiCircleClassByPsiLevel:function(t){return t<56?"psiNormalCircleClass":t>55&&t<151?"psiElevatedCircleClass":t>150&&t<251?"psiHighCircleClass":"psiVeryHighCircleClass"},fetchUpdateData:function(){var t=(0,$.Z)((0,Y.Z)().mark((function t(){var e=this;return(0,Y.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,q.get("https://api.data.gov.sg/v1/environment/psi").then((function(t){var n=t.data.items[0].readings;Object.entries(n).forEach((function(t){var n=(0,U.Z)(t,2),r=n[0],a=n[1];Object.entries(a).forEach((function(t){var n=(0,U.Z)(t,2),a=n[0],o=n[1];switch(a){case"west":if(e.locations.filter((function(t){return"West"==t.name}))[0][r]=o,"pm25_twenty_four_hourly"==r){var i=e.psiCircles.filter((function(t){return"West"==t.location}))[0];i.value=o,i.class=e.getPsiCircleClassByPsiLevel(o)}break;case"central":if(e.locations.filter((function(t){return"Central"==t.name}))[0][r]=o,"pm25_twenty_four_hourly"==r){var s=e.psiCircles.filter((function(t){return"Central"==t.location}))[0];s.value=o,s.class=e.getPsiCircleClassByPsiLevel(o)}break;case"north":if(e.locations.filter((function(t){return"North"==t.name}))[0][r]=o,"pm25_twenty_four_hourly"==r){var u=e.psiCircles.filter((function(t){return"North"==t.location}))[0];u.value=o,u.class=e.getPsiCircleClassByPsiLevel(o)}break;case"south":if(e.locations.filter((function(t){return"South"==t.name}))[0][r]=o,"pm25_twenty_four_hourly"==r){var l=e.psiCircles.filter((function(t){return"South"==t.location}))[0];l.value=o,l.class=e.getPsiCircleClassByPsiLevel(o)}break;case"east":if(e.locations.filter((function(t){return"East"==t.name}))[0][r]=o,"pm25_twenty_four_hourly"==r){var c=e.psiCircles.filter((function(t){return"East"==t.location}))[0];c.value=o,c.class=e.getPsiCircleClassByPsiLevel(o)}break;case"national":e.locations.filter((function(t){return"National"==t.name}))[0][r]=o;break;default:break}}))})),e.updateTime=new Date(t.data.items[0].update_timestamp)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));function e(){return t.apply(this,arguments)}return e}()},mounted:function(){},created:function(){var t=this;this.interval=setInterval((function(){return t.fetchUpdateData()}),3e3)},beforeDestroy:function(){},destroyed:function(){clearInterval(this.interval)},data:function(){return{psiCircles:[{location:"Central",center:[1.35735,103.82],radius:25,value:"-",class:"psiNormalCircleClass"},{location:"South",center:[1.29587,103.82],radius:25,value:"-",class:"psiNormalCircleClass"},{location:"North",center:[1.41803,103.82],radius:25,value:"-",class:"psiNormalCircleClass"},{location:"East",center:[1.35735,103.94],radius:25,value:"-",class:"psiNormalCircleClass"},{location:"West",center:[1.35735,103.7],radius:25,value:"-",class:"psiNormalCircleClass"}],url:"https://maps-{s}.onemap.sg/v3/Default/{z}/{x}/{y}.png",detectRetina:!0,attribution:'<img src="https://docs.onemap.sg/maps/images/oneMap64-01.png" style="height:20px;width:20px;">New OneMap | Map data © contributors, <a href="http://SLA.gov.sg">Singapore Land Authority</a>',zoom:11,center:[1.347833,103.809357],bounds:(0,Vt.latLngBounds)([[1.1,103.5],[1.5,104.3]]),maxBounds:(0,Vt.latLngBounds)([[1.1,103.5],[1.5,104.3]]),updateTime:null,headers:[{text:"Location",align:"start",sortable:!1,value:"name"},{text:"O3 Sub Index",value:"o3_sub_index"},{text:"O3 8H Max",value:"o3_eight_hour_max"},{text:"PM10 Sub Index",value:"pm10_sub_index"},{text:"PM10 24H Hourly",value:"pm10_twenty_four_hourly"},{text:"PM2.5 Sub Index",value:"pm25_sub_index"},{text:"PM2.5 24H Hourly ",value:"pm25_twenty_four_hourly"},{text:"SO2 Sub Index",value:"so2_sub_index"},{text:"SO2 24H Hourly",value:"so2_twenty_four_hourly"},{text:"CO Sub Index",value:"co_sub_index"},{text:"CO 8H Max",value:"co_eight_hour_max"},{text:"NO2 1H Max",value:"no2_one_hour_max"},{text:"PSI 24H Max",value:"psi_twenty_four_hourly"}],locations:[{name:"National",o3_sub_index:0,o3_eight_hour_max:0,pm10_sub_index:0,pm10_twenty_four_hourly:0,pm25_sub_index:0,pm25_twenty_four_hourly:0,so2_sub_index:0,so2_twenty_four_hourly:0,co_sub_index:0,co_eight_hour_max:0,no2_one_hour_max:0,psi_twenty_four_hourly:0},{name:"North",o3_sub_index:0,o3_eight_hour_max:0,pm10_sub_index:0,pm10_twenty_four_hourly:0,pm25_sub_index:0,pm25_twenty_four_hourly:0,so2_sub_index:0,so2_twenty_four_hourly:0,co_sub_index:0,co_eight_hour_max:0,no2_one_hour_max:0,psi_twenty_four_hourly:0},{name:"South",o3_sub_index:0,o3_eight_hour_max:0,pm10_sub_index:0,pm10_twenty_four_hourly:0,pm25_sub_index:0,pm25_twenty_four_hourly:0,so2_sub_index:0,so2_twenty_four_hourly:0,co_sub_index:0,co_eight_hour_max:0,no2_one_hour_max:0,psi_twenty_four_hourly:0},{name:"East",o3_sub_index:0,o3_eight_hour_max:0,pm10_sub_index:0,pm10_twenty_four_hourly:0,pm25_sub_index:0,pm25_twenty_four_hourly:0,so2_sub_index:0,so2_twenty_four_hourly:0,co_sub_index:0,co_eight_hour_max:0,no2_one_hour_max:0,psi_twenty_four_hourly:0},{name:"West",o3_sub_index:0,o3_eight_hour_max:0,pm10_sub_index:0,pm10_twenty_four_hourly:0,pm25_sub_index:0,pm25_twenty_four_hourly:0,so2_sub_index:0,so2_twenty_four_hourly:0,co_sub_index:0,co_eight_hour_max:0,no2_one_hour_max:0,psi_twenty_four_hourly:0},{name:"Central",o3_sub_index:0,o3_eight_hour_max:0,pm10_sub_index:0,pm10_twenty_four_hourly:0,pm25_sub_index:0,pm25_twenty_four_hourly:0,so2_sub_index:0,so2_twenty_four_hourly:0,co_sub_index:0,co_eight_hour_max:0,no2_one_hour_max:0,psi_twenty_four_hourly:0}]}}},jt=Mt,Ht=(0,p.Z)(jt,kt,St,!1,null,null,null),Nt=Ht.exports;f()(Ht,{VCol:st.Z,VContainer:D.Z,VRow:B.Z});var At=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{"fill-height":"",fluid:""}},[n("v-row",{attrs:{align:"center",justify:"center"}},[n("div",{staticClass:"text-center"},[n("h1",[t._v("404 Page Not Found")])])])],1)},Dt=[],Bt={},Tt=(0,p.Z)(Bt,At,Dt,!1,null,null,null),Et=Tt.exports;f()(Tt,{VContainer:D.Z,VRow:B.Z}),r.Z.use(H.Z);var Ft=new H.Z({mode:"hash",base:"/CSC3007-assignment5/",routes:[{path:"/",name:"home",components:{default:F}},{path:"/a1",name:"a1",components:{default:et}},{path:"/a2",name:"a2",components:{default:ct}},{path:"/a3",name:"a3",components:{default:vt}},{path:"/a4",name:"a4",components:{default:Zt}},{path:"/a5",name:"a5",components:{default:Nt}},{path:"*",components:{default:Et}}]});r.Z.config.productionTip=!1,r.Z.use(X),new r.Z({router:Ft,vuetify:o,render:function(t){return t(j)}}).$mount("#app")}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.m=t,function(){var t=[];n.O=function(e,r,a,o){if(!r){var i=1/0;for(c=0;c<t.length;c++){r=t[c][0],a=t[c][1],o=t[c][2];for(var s=!0,u=0;u<r.length;u++)(!1&o||i>=o)&&Object.keys(n.O).every((function(t){return n.O[t](r[u])}))?r.splice(u--,1):(s=!1,o<i&&(i=o));if(s){t.splice(c--,1);var l=a();void 0!==l&&(e=l)}}return e}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[r,a,o]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,r){var a,o,i=r[0],s=r[1],u=r[2],l=0;if(i.some((function(e){return 0!==t[e]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(u)var c=u(n)}for(e&&e(r);l<i.length;l++)o=i[l],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(c)},r=self["webpackChunkcsc3007_leaflet_sg_psi"]=self["webpackChunkcsc3007_leaflet_sg_psi"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(8628)}));r=n.O(r)})();
//# sourceMappingURL=app-legacy.952f2d71.js.map